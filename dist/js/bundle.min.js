!function(){"use strict";var o,t,r;(o={loginForm:"#login-form",loginBtn:"#login-btn"},t={searchBtn:".search-label",labelUsername:".label-username",labelPassword:".label-password"},r={usernameField:"input[name='username']",passwordField:"input[name='password']"},{main:function(){0<$(t.searchBtn).length&&this.handleSearch(),0<$(o.loginForm).length&&(this.handleGeneralEvents(),this.validateForm())},handleSearch:function(){$(t.searchBtn).on("click",function(e){var n=$(this);n.parent().hasClass("unleash-search")&&n.parent().find("input").val(""),n.parent().toggleClass("unleash-search"),e.stopPropagation()})},handleGeneralEvents:function(){var e=$(r.usernameField),n=$(r.passwordField),a=$(t.labelUsername),s=$(t.labelPassword);e.on("focus",function(){e.removeClass("border-danger"),e.parent().find(".notify").addClass("v-hidden"),a.removeClass("v-hidden"),e.attr("placeholder","")}),n.on("focus",function(){n.removeClass("border-danger"),n.parent().find(".notify").addClass("v-hidden"),s.removeClass("v-hidden"),n.attr("placeholder","")}),e.on("blur",function(){a.addClass("v-hidden"),e.attr("placeholder","User name")}),n.on("blur",function(){s.addClass("v-hidden"),n.attr("placeholder","Password")})},validateForm:function(){var a=this,s=$(r.usernameField),t=$(r.passwordField);$(o.loginForm).submit(function(e){if(e.preventDefault(),e.stopPropagation(),0==$.trim(s.val()).length)return $(o.loginBtn).addClass("btn-shake-x"),s.addClass("border-danger"),s.parent().find(".notify").removeClass("v-hidden"),void setTimeout(function(){$(o.loginBtn).removeClass("btn-shake-x")},820);if(0==$.trim(t.val()).length)return $(o.loginBtn).addClass("btn-shake-x"),t.addClass("border border-danger"),t.parent().find(".notify").removeClass("v-hidden"),void setTimeout(function(){$(o.loginBtn).removeClass("btn-shake-x")},820);var n={username:s.val(),password:t.val()};$.ajax({method:"POST",cache:!1,data:n,beforeSend:function(){"root"==s.val()&&"password"==t.val()?($(o.loginBtn).addClass("btn-shake-y"),a.showSimulation()):($(o.loginBtn).addClass("btn-shake-x"),setTimeout(function(){$(o.loginBtn).removeClass("btn-shake-x"),$(o.loginBtn).text("Wrong username or password"),setTimeout(function(){$(o.loginBtn).text("Login")},2e3)},820))},success:function(e){}})})},showSimulation:function(){setTimeout(function(){var e=$(r.usernameField),n=$(r.passwordField);$(o.loginBtn).removeClass("btn-shake-y"),$(o.loginBtn).text("Your are signed in !"),e.attr("disabled","disabled"),n.attr("disabled","disabled")},2e3)}}).main()}();